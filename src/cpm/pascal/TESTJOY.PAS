program TestJoy;function getJoy : integer;begin  getJoy := Bdos(228, (80 shl 8) );end;procedure bDelay(time:integer);begin  Bdos(228, (6 shl 8) + (time div 10) );end;var   choiceCh : char;    joystick:  integer;  direction: integer;  button:    integer;begin ClrScr; repeat    choiceCh := '*';    if ( KeyPressed ) then        Read(Kbd,choiceCh);        joystick  := getJoy;    direction := joystick div 16;    button    := joystick mod 16;        GotoXY( 5, 5 );    ClrEol;    Writeln( direction, ' ', button );    bDelay( 200 );         until ( choiceCh = 'q' );  end.